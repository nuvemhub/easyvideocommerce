var easyDataLayer={config:{embbedUrl:"https://cdn.jsdelivr.net/gh/nuvemhub/easyvideocommerce@2.0.5/dist",apiUrl:"https://api.nuvemhub.com.br",storeId:null,wppNumber:null,productId:null,lang:"en"},videoData:{position:null,videoIndex:0,allSources:[],progressBarActionInstance:null,preloadStarted:!1,muteTimeInstance:null,playNextFireTimeInstance:null,playNextFireCalls:0,handlePreLoadingTimeInstance:null,handleEndedMediaTimeInstance:null,restartCurrentMediaTimeInstance:null,helloMessageTimeInstance:null,helloMessage:null,eventListenerAdded:[],allVideosAttachedData:[]},dnd:{posY:0,isDragging:!1,draggingTimeInstance:null},analytics:{campaignId:null,testId:null,viewTriggered:!1,errorTriggered:!1},store:{app:null},setStoreId:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=document.currentScript;if(e?.src){const e=new URL(document.currentScript.src).searchParams.get("storeId");e&&(easyDataLayer.config.storeId=e)}}),"setStoreId")},setEnvironment:function(){easyDataLayer.utils.executeWithLogging((()=>{const e="true"===localStorage.getItem("nuvemhubdebug"),t=document?.currentScript?.src;"localhost"===location.hostname||e?(easyDataLayer.config.embbedUrl="http://localhost:5200",easyDataLayer.config.apiUrl="http://localhost:3002"):("web-test.nuvemhub.com.br"===location.hostname||t?.includes("web-test.nuvemhub.com.br"))&&(easyDataLayer.config.embbedUrl="https://web-test.nuvemhub.com.br",easyDataLayer.config.apiUrl="https://nuvem-hub-api-test-vm934.ondigitalocean.app")}),"setEnvironment")},sendAnalyticsEvent:function(e,t){easyDataLayer.utils.executeWithLogging((()=>{"function"==typeof gtagNsGA4?t?gtagNsGA4("event",e,t):gtagNsGA4("event",e):window?.dataLayer?.length>0&&(t?window.dataLayer.push({event:e,...t}):window.dataLayer.push({event:e}))}),"sendAnalyticsEvent")},handleMaximaze:function(e){easyDataLayer.utils.executeWithLogging((()=>{if(document.querySelector("#easy-video-commerce-nh-container").classList.contains("dragging"))return;easyDataLayer.handleControlMuteAndUnmute(!1),document.querySelector("#easy-video-commerce-nh-container").style.borderWidth="0",document.querySelector("#easy-video-commerce-nh-container").classList.toggle("maximized"),document.querySelector("#easy-video-commerce-nh-container").style.zIndex="1999999999",document.querySelector("#easy-video-commerce-nh span.hello-message").style.display="none",document.querySelector("#easy-video-commerce-nh .progress-container").style.display="flex",document.querySelector("#easy-video-commerce-nh .controls").style.display="flex",setTimeout((()=>{document.querySelector("#easy-video-commerce-nh .controls .control-center .control-center-icon-container").style.display="none"}),1500),document.querySelector("#easy-video-commerce-nh .header-controls").style.display="flex",document.querySelector("#easy-video-commerce-nh .btn-like").style.display="flex",document.querySelector("#easy-video-commerce-nh .btn-comments").style.display="flex",document.querySelector("#easy-video-commerce-nh .btn-wpp").style.display="flex",easyDataLayer.config.wppNumber&&(document.querySelector("#easy-video-commerce-nh .btn-wpp").style.opacity="1",document.querySelector("#easy-video-commerce-nh .btn-wpp").style.cursor="pointer");document.querySelectorAll("#easy-video-commerce-nh .product-showcase-image").forEach((e=>e.style.display="flex"));const t=document.querySelector("#easy-video-commerce-nh #featured-product-showcase");t&&(t.style.display="flex"),e?(document.querySelector("#easy-video-commerce-nh-container").style.left="0",document.querySelector("#easy-video-commerce-nh-container").style.bottom="0",document.querySelector("#easy-video-commerce-nh-container").style.top="0",document.querySelector("#easy-video-commerce-nh-container").style.height="100%",document.querySelector("#easy-video-commerce-nh-container").style.width="100%",document.querySelector("#easy-video-commerce-nh-container #easy-video-commerce-nh").style.height="100%",document.querySelector("#easy-video-commerce-nh-container #easy-video-commerce-nh").style.width="100%",document.querySelector("#easy-video-commerce-nh .easy-source-container").style.borderRadius="0",easyDataLayer.addDisableZoomPageEvent()):(document.querySelector("#easy-video-commerce-nh-container").style.bottom="14px",document.querySelector("#easy-video-commerce-nh-container").style.top="14px",document.querySelector("#easy-video-commerce-nh-container").style.left="50%",document.querySelector("#easy-video-commerce-nh-container").style.transform="translateX(-50%)",document.querySelector("#easy-video-commerce-nh-container").style.height="calc(100vh - 28px)",document.querySelector("#easy-video-commerce-nh-container").style.width="calc((100vh - 28px) * 0.6)",document.querySelector("#easy-video-commerce-nh-container #easy-video-commerce-nh").style.height="100%",document.querySelector("#easy-video-commerce-nh-container #easy-video-commerce-nh").style.width="100%",document.querySelector("#easy-video-commerce-nh .easy-source-container").style.borderRadius="8px",document.querySelector("#easy-video-commerce-nh-fade-desktop").style.display="flex",document.querySelector("#easy-video-commerce-nh-fade-desktop").style.zIndex="1909999999",easyDataLayer.restartCurrentMedia()),easyDataLayer.analytics.viewTriggered||(easyDataLayer.analytics.testId&&easyDataLayer.sendAnalyticsEvent(`nhev-tab-${easyDataLayer.analytics.campaignId}-vw`),easyDataLayer.sendAnalyticsEvent("nhev-view"),easyDataLayer.analytics.viewTriggered=!0)}),"handleMaximaze")},handleMinimize:function(e){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.handleControlMuteAndUnmute(!0),document.querySelector("#easy-video-commerce-nh-container").style.borderWidth="3px",document.querySelector("#easy-video-commerce-nh-container").classList.toggle("maximized"),document.querySelector("#easy-video-commerce-nh-container").style.zIndex="16000",document.querySelector("#easy-video-commerce-nh .progress-container").style.display="none",document.querySelector("#easy-video-commerce-nh .controls").style.display="none",document.querySelector("#easy-video-commerce-nh .header-controls").style.display="none",document.querySelector("#easy-video-commerce-nh .btn-like").style.display="none",document.querySelector("#easy-video-commerce-nh .btn-comments").style.display="none",document.querySelector("#easy-video-commerce-nh .btn-wpp").style.display="none";document.querySelectorAll("#easy-video-commerce-nh .product-showcase-image").forEach((e=>e.style.display="none"));const t=document.querySelector("#easy-video-commerce-nh #featured-product-showcase");t&&(t.style.display="none"),e?(document.querySelector("#easy-video-commerce-nh").style.left="14px",document.querySelector("#easy-video-commerce-nh").style.bottom="14px",document.querySelector("#easy-video-commerce-nh-container").style.height="110px",document.querySelector("#easy-video-commerce-nh-container").style.width="110px",document.querySelector("#easy-video-commerce-nh").style.height="100px",document.querySelector("#easy-video-commerce-nh").style.width="100px",document.querySelector("#easy-video-commerce-nh .easy-source-container").style.borderRadius="100%",easyDataLayer.removeDisableZoomPageEvent()):(document.querySelector("#easy-video-commerce-nh-container").style.height="130px",document.querySelector("#easy-video-commerce-nh-container").style.width="130px",document.querySelector("#easy-video-commerce-nh-container #easy-video-commerce-nh").style.height="120px",document.querySelector("#easy-video-commerce-nh-container #easy-video-commerce-nh").style.width="120px",document.querySelector("#easy-video-commerce-nh-container").style.transform="translateX(0)",document.querySelector("#easy-video-commerce-nh .easy-source-container").style.borderRadius="100%",document.querySelector("#easy-video-commerce-nh-fade-desktop").style.display="none",document.querySelector("#easy-video-commerce-nh-fade-desktop").style.zIndex="15000"),easyDataLayer.setVideoSide()}),"handleMinimize")},handleContainerHover:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=document.querySelector("#easy-video-commerce-nh-container");e.addEventListener("mouseenter",(()=>{e.classList.contains("maximized")||easyDataLayer.setHelloMessage(null)}))}),"handleContainerHover")},setHTML:function(){const e=()=>easyDataLayer.checkCurrentMediaAndPlayNext(!1),t=()=>easyDataLayer.checkCurrentMediaAndPlayNext(!0);fetch(`${easyDataLayer.config.embbedUrl}/nuvemHubEVCScope.html`).then((e=>e.text())).then((a=>{const o=window.innerWidth<768;var n=document.createElement("div");n.id="easy-video-commerce-nh-fade-desktop",n.className="easy-video-commerce-nh-fade-desktop",n.style.display="none",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="rgba(0, 0, 0, 0.8)",n.style.zIndex="15000",document.body.appendChild(n);var r=document.createElement("div");r.id="easy-video-commerce-nh-container",r.className="easy-video-commerce-nh-container",r.style.display="none",r.style.alignItems="center",r.style.justifyContent="center",r.style.width=o?"110px":"130px",r.style.height=o?"110px":"130px",r.style.position="fixed",r.style.cursor="pointer",r.style.zIndex="16000",r.style.border="3px solid #000",r.style.borderRadius="100%",r.style.boxSizing="border-box",r.style.transition="top 0.1s";var s=document.createElement("div");s.id="easy-video-commerce-nh",s.className="easy-video-commerce-nh",s.style.display="flex",s.style.width=o?"100px":"120px",s.style.height=o?"100px":"120px",s.innerHTML=a,r.appendChild(s),document.body.appendChild(r);let i=document.createElement("style");i.innerHTML="\n          #easy-video-commerce-nh button {\n            outline: none;\n            border: 0;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n            background-color: transparent;\n          }\n\n          #easy-video-commerce-nh button:focus {\n            opacity: 1;\n          }\n\n          #easy-video-commerce-nh,\n          #easy-video-commerce-nh button,\n          #easy-video-commerce-nh div,\n          #easy-video-commerce-nh a {\n            -webkit-tap-highlight-color: transparent;\n            outline: none;\n          }\n\n          #easy-video-commerce-nh button,\n          #easy-video-commerce-nh a,\n          #easy-video-commerce-nh p,\n          #easy-video-commerce-nh h1,\n          #easy-video-commerce-nh h2,\n          #easy-video-commerce-nh h3,\n          #easy-video-commerce-nh h4,\n          #easy-video-commerce-nh h5,\n          #easy-video-commerce-nh h6,\n          #easy-video-commerce-nh span,\n          #easy-video-commerce-nh div,\n          #easy-video-commerce-nh input,\n          #easy-video-commerce-nh textarea,\n          #easy-video-commerce-nh select,\n          #easy-video-commerce-nh option,\n          #easy-video-commerce-nh label {\n            font-family: sans-serif;\n            margin: 0;\n          }\n\n          #easy-video-commerce-nh button:hover, \n          #easy-video-commerce-nh button:focus {\n            border: 0;\n            outline: none;\n          }\n\n          #easy-video-commerce-nh a:hover, \n          #easy-video-commerce-nh a:focus {\n            border: 0;\n            outline: none;\n          }\n        ",document.head.appendChild(i),document.querySelector("#easy-video-commerce-nh .easy-source-container").addEventListener("click",(()=>easyDataLayer.handleMaximaze(o))),document.querySelector("#easy-video-commerce-nh .header-controls .btn-restart").addEventListener("click",(()=>easyDataLayer.restartCurrentMedia())),document.querySelector("#easy-video-commerce-nh .header-controls .btn-pause").addEventListener("click",(()=>easyDataLayer.handlePlayPauseMedia())),document.querySelector("#easy-video-commerce-nh .header-controls .btn-play").addEventListener("click",(()=>easyDataLayer.handlePlayPauseMedia())),document.querySelector("#easy-video-commerce-nh .header-controls .btn-close").addEventListener("click",(()=>easyDataLayer.handleMinimize(o))),o||document.querySelector("#easy-video-commerce-nh-fade-desktop").addEventListener("click",(()=>easyDataLayer.handleMinimize(!1))),document.querySelector("#easy-video-commerce-nh .controls .control-left").addEventListener("click",e),document.querySelector("#easy-video-commerce-nh .controls .control-right").addEventListener("click",t),document.querySelector("#easy-video-commerce-nh .controls .control-center").addEventListener("click",easyDataLayer.handleControlMuteAndUnmute),document.querySelector("#easy-video-commerce-nh .extra-control .btn-like").addEventListener("click",easyDataLayer.handleLike),document.querySelector("#easy-video-commerce-nh .extra-control .btn-comments").addEventListener("click",easyDataLayer.handleModalComments),document.querySelector("#easy-video-commerce-nh #comments-container .overlay").addEventListener("click",easyDataLayer.handleModalComments),document.querySelector("#easy-video-commerce-nh #comments-container .comments-btn-close").addEventListener("click",easyDataLayer.handleModalComments),document.querySelector("#easy-video-commerce-nh #comments-container .submit-comment").addEventListener("click",easyDataLayer.handleComment);const c=document.querySelector("#easy-video-commerce-nh #comments-container h2"),d=document.querySelector("#easy-video-commerce-nh #comments-container textarea"),l=document.querySelector("#easy-video-commerce-nh #comments-container .submit-comment");c&&d&&l&&("es"===easyDataLayer.config.lang?(c.textContent="Comentarios",d.placeholder="Deja tu comentario para que podamos mejorar nuestro contenido y aclarar todas tus dudas. ¡Tu opinión es muy importante para nosotros!",l.textContent="Enviar"):"en"===easyDataLayer.config.lang?(c.textContent="Comments",d.placeholder="Leave your comment so that we can improve our content and clarify all your doubts. Your opinion is very important to us!",l.textContent="Send"):(c.textContent="Comentários",d.placeholder="Deixe seu comentário para que possamos aprimorar nosso conteúdo e esclarecer todas as suas dúvidas. Sua opinião é muito importante para nós!",l.textContent="Enviar")),easyDataLayer.handleContainerHover(),easyDataLayer.analytics.testId&&easyDataLayer.sendAnalyticsEvent(`nhev-tab-${easyDataLayer.analytics.campaignId}-sw`),easyDataLayer.sendAnalyticsEvent("nhev-showed")})).catch((e=>{console.error("[NuvemHub] Easy Video Commerce: setHTML",e)}))},handleLike:function(){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.analytics.testId&&easyDataLayer.sendAnalyticsEvent(`nhev-tab-${easyDataLayer.analytics.campaignId}-lk`),easyDataLayer.sendAnalyticsEvent("nhev-like");const e=document.querySelector("#easy-video-commerce-nh .extra-control .btn-like .like-icon-disabled"),t=document.querySelector("#easy-video-commerce-nh .extra-control .btn-like .like-icon-enabled"),a=document.querySelector("#easy-video-commerce-nh .extra-control .btn-like");if(e&&t&&a){if("none"===e.style.display)return;e.style.display="none",t.style.display="flex",a.style.pointerEvents="none",a.style.transform="scale(1.4)",setTimeout((()=>{a.style.transform="scale(1)"}),300)}}),"handleLike")},handleComment:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=document.querySelector("#easy-video-commerce-nh #comments-container textarea"),t=document.querySelector("#easy-video-commerce-nh #comments-container .submit-comment"),a=document.querySelector("#easy-video-commerce-nh #comments-container .comments-btn-close");e?.value&&(easyDataLayer.analytics.testId&&easyDataLayer.sendAnalyticsEvent(`nhev-tab-${easyDataLayer.analytics.campaignId}-cm`,{data:JSON.stringify({comment:e.value})}),easyDataLayer.sendAnalyticsEvent("nhev-comment",{data:JSON.stringify({comment:e.value})})),e&&t&&(e.disabled=!0,t.style.pointerEvents="none",a.style.pointerEvents="none",t.textContent="Enviado!",t.style.backgroundColor="#38b000",t.style.color="white",t.transition="background-color 0.5s"),setTimeout((()=>{easyDataLayer.handleModalComments(),e&&t&&(e.disabled=!1,e.value="",t.style.pointerEvents="all",a.style.pointerEvents="all",t.textContent="Enviar",t.style.backgroundColor="#edf2f7",t.style.color="black")}),1500)}),"handleComment")},setWppEvent:function(){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.config.wppNumber?document.querySelector("#easy-video-commerce-nh .extra-control .btn-wpp").addEventListener("click",easyDataLayer.handleWppContact):document.querySelector("#easy-video-commerce-nh .extra-control .btn-wpp").style.display="none"}),"setWppEvent")},handleWppContact:function(){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.analytics.testId&&easyDataLayer.sendAnalyticsEvent(`nhev-tab-${easyDataLayer.analytics.campaignId}-wp`),easyDataLayer.sendAnalyticsEvent("nhev-wpp");let e=`Olá, vi um vídeo na loja e gostaria de mais informações!\n\n${window.location.href}`;e="es"===easyDataLayer.config.lang?`Hola, vi un video en la tienda y me gustaría obtener más información!\n\n${window.location.href}`:"en"===easyDataLayer.config.lang?`Hello, I saw a video in the store and would like more information!\n\n${window.location.href}`:`Olá, vi um vídeo na loja e gostaria de mais informações!\n\n${window.location.href}`,window.open(`https://wa.me/${easyDataLayer.config.wppNumber}?text=${encodeURIComponent(e)}`,"_blank")}),"handleWppContact")},checkCurrentVideoMuted:function(){easyDataLayer.utils.executeWithLogging((()=>document.querySelectorAll("#easy-video-commerce-nh video")[easyDataLayer.videoData.videoIndex].muted),"checkCurrentVideoMuted")},handleControlMuteAndUnmute:function(e=null){easyDataLayer.utils.executeWithLogging((()=>{const t=document.querySelectorAll("#easy-video-commerce-nh video")[easyDataLayer.videoData.videoIndex];if(t){t.muted=null===e||!0!==e&&!1!==e?!t.muted:e;const a=document.querySelector("#easy-video-commerce-nh .controls .control-center .unmute-icon"),o=document.querySelector("#easy-video-commerce-nh .controls .control-center .mute-icon"),n=document.querySelector("#easy-video-commerce-nh .controls .control-center .control-center-icon-container");a.style.display=t.muted?"none":"flex",o.style.display=t.muted?"flex":"none",n.style.display="flex",easyDataLayer.videoData.muteTimeInstance&&clearTimeout(easyDataLayer.videoData.muteTimeInstance),easyDataLayer.videoData.muteTimeInstance=setTimeout((()=>{n.style.display="none"}),1500)}}),"handleControlMuteAndUnmute")},handleModalComments:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=document.querySelector("#easy-video-commerce-nh #comments-container"),t=document.querySelector("#easy-video-commerce-nh #comments-container .wrapper");"0px"===t.style.bottom||"0%"===t.style.bottom||"0"===t.style.bottom?(t.style.bottom="-100%",e.style.display="none"):(e.style.display="flex",t.style.bottom="0")}),"handleModalComments")},checkCurrentMediaAndPlayNext:function(e){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.videoData.playNextFireCalls+=e?1:-1,easyDataLayer.videoData.playNextFireTimeInstance&&clearTimeout(easyDataLayer.videoData.playNextFireTimeInstance),easyDataLayer.videoData.playNextFireTimeInstance=setTimeout((()=>{const t=document.querySelectorAll("#easy-video-commerce-nh video"),{videoIndex:a,playNextFireCalls:o,allSources:n}=easyDataLayer.videoData,r=a+o,s=n.length-1,i=r>=n.length?s:r<0?0:r;if(easyDataLayer.videoData.playNextFireCalls=0,a===i||i<0||i>=n.length)return void easyDataLayer.restartCurrentMedia();const c=t?.[i],d=t?.[a];d.pause();const l=easyDataLayer.checkCurrentVideoMuted();if(!c)return easyDataLayer.handlePreLoadingPlaybackMedia(i),void easyDataLayer.handleEndedMedia(i);easyDataLayer.videoData.videoIndex=i;let y=!0;c.readyState<4&&(c.src!==easyDataLayer.videoData.allSources[i]?(c.src=easyDataLayer.videoData.allSources[i],c.load(),easyDataLayer.setVideoEventListeners(),y=!1):(c.src=easyDataLayer.videoData.allSources[i],c.load())),c.style.display="flex",easyDataLayer.resetVideo(d),easyDataLayer.setProductsToShow(),y&&easyDataLayer.setProgressBarAction(e),setTimeout((()=>{easyDataLayer.setLoadingVideo(!1),c.play(),l||easyDataLayer.handleControlMuteAndUnmute(!1)}),150)}),300)}),"checkCurrentMediaAndPlayNext")},resetVideo:function(e){easyDataLayer.utils.executeWithLogging((()=>{e.style.display="none",e.currentTime=0,e.pause(),e.muted=!0}),"resetVideo")},observeUrlChange:function(){easyDataLayer.utils.executeWithLogging((()=>{let e=document.location.pathname;const t=document.querySelector("body");new MutationObserver((()=>{if(e!==document.location.pathname){e=document.location.pathname;const t=document.getElementById("easy-video-commerce-nh-container"),a=document.getElementById("easy-video-commerce-nh-fade-desktop");t&&a&&(console.log("[NuvemHub] Easy Video Commerce: observeUrlChange"),t.parentNode.removeChild(t),a.parentNode.removeChild(a))}})).observe(t,{childList:!0,subtree:!0})}),"observeUrlChange")},disableZoomPage:function(e){easyDataLayer.utils.executeWithLogging((()=>{1!==e.scale&&e.preventDefault()}),"disableZoomPage")},disableDoubleTapZoom:function(e){easyDataLayer.utils.executeWithLogging((()=>{e.preventDefault()}),"disableDoubleTapZoom")},addDisableZoomPageEvent:function(){easyDataLayer.utils.executeWithLogging((()=>{document.addEventListener("touchmove",easyDataLayer.disableZoomPage,{passive:!1}),document.addEventListener("dblclick",easyDataLayer.disableDoubleTapZoom,{passive:!1})}),"addDisableZoomPageEvent")},removeDisableZoomPageEvent:function(){easyDataLayer.utils.executeWithLogging((()=>{document.removeEventListener("touchmove",easyDataLayer.disableZoomPage),document.removeEventListener("dblclick",easyDataLayer.disableDoubleTapZoom)}),"removeDisableZoomPageEvent")},getEasyCampaigns:function(e,t,a,o,n){return new Promise((r=>{const s=[e?`isHome=${e}`:null,t?`categoryId=${t}`:null,a?`productId=${a}`:null,o?`productHandle=${o}`:null,n?`paths=${encodeURIComponent(JSON.stringify(n))}`:null].filter(Boolean).join("&");fetch(`${easyDataLayer.config.apiUrl}/easyvideocommerce/campaign/buffer/${easyDataLayer.config.storeId}?${s}`).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.error("[NuvemHub] Easy Video Commerce: getEasyCampaigns",e),r(null)}))}))},setSource:function(e){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.videoData.allSources=e.map((e=>e.sourceUrl)),easyDataLayer.videoData.eventListenerAdded=e.map((()=>!1)),easyDataLayer.videoData.allVideosAttachedData=e,document.querySelector("#easy-video-commerce-nh video").src=e[0].sourceUrl,easyDataLayer.setVideoEventListeners()}),"setSource")},setVideoEventListeners:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=e=>{const t=document.querySelector("#easy-video-commerce-nh-container"),a=document.querySelector("#easy-video-commerce-nh-fade-desktop");t&&(t.style.display=e),a&&"none"===e&&(a.style.display=e)},t=document.querySelectorAll("#easy-video-commerce-nh video")[easyDataLayer.videoData.videoIndex];easyDataLayer.videoData.eventListenerAdded[easyDataLayer.videoData.videoIndex]=!0,easyDataLayer.setLoadingVideo(!0),t.muted=!0,t.addEventListener("loadeddata",(()=>{console.log("[NuvemHub] Easy Video Commerce: video loaded"),easyDataLayer.setLoadingVideo(!1),e("flex"),easyDataLayer.setHTMLProgressBars(),easyDataLayer.setProgressBarAction(!0),easyDataLayer.setProductsToShow(),easyDataLayer.setResponsiveStyle(),t.play()})),t.addEventListener("error",(()=>{console.log("[NuvemHub] Easy Video Commerce: video error, trying again..."),easyDataLayer.analytics.errorTriggered||(easyDataLayer.analytics.testId&&easyDataLayer.sendAnalyticsEvent(`nhev-tab-${easyDataLayer.analytics.campaignId}-le`),easyDataLayer.sendAnalyticsEvent("nhev-loaderror"),easyDataLayer.analytics.errorTriggered=!0,e("none"),t.src=easyDataLayer.videoData.allSources[easyDataLayer.videoData.videoIndex],t.load())})),t.addEventListener("ended",(()=>{console.log("[NuvemHub] Easy Video Commerce: video ended");document.querySelector("#easy-video-commerce-nh-container").classList.contains("maximized")?easyDataLayer.handleEndedMedia():(easyDataLayer.setLoadingVideo(!1),t.currentTime=0,t.muted=!0,t.play())})),t.load()}),"setVideoEventListeners")},setLoadingVideo:function(e){easyDataLayer.utils.executeWithLogging((()=>{const t=document.querySelector("#easy-video-commerce-nh #loading");t.style.display=e?"flex":"none"}),"setLoadingVideo")},setHTMLProgressBars:function(){easyDataLayer.utils.executeWithLogging((()=>{document.querySelector("#easy-video-commerce-nh .progress-bar-item")||easyDataLayer.videoData.allSources.forEach(((e,t)=>{const a=document.createElement("div");a.classList.add("progress-bar-item"),a.id=`progress-bar-${t+1}`,a.style.height="4px",a.style.width="100%",a.style.backgroundColor="rgba(255, 255, 255, .35)",a.style.borderRadius="2px";const o=document.createElement("div");o.style.height="100%",o.style.backgroundColor="rgb(255, 255, 255)",o.style.transition="bottom 1s",o.style.width="0%",a.appendChild(o),document.querySelector("#easy-video-commerce-nh .progress-container").appendChild(a)}))}),"setHTMLProgressBars")},setProgressBarAction:function(e){easyDataLayer.utils.executeWithLogging((()=>{const t=document.querySelectorAll("#easy-video-commerce-nh .progress-bar-item > div");for(let e=0;e<easyDataLayer.videoData.videoIndex;e++){t[e].style.width="100%"}for(let e=easyDataLayer.videoData.videoIndex+1;e<easyDataLayer.videoData.allSources.length;e++){t[e].style.width="0%"}const a=document.querySelector(`#progress-bar-${easyDataLayer.videoData.videoIndex+1} > div`);a.style.display="flex";const o=document.querySelectorAll("#easy-video-commerce-nh video"),n=o[easyDataLayer.videoData.videoIndex],r=o?.[easyDataLayer.videoData.videoIndex+(e?1:-1)];easyDataLayer.videoData.removeEventListenerProgressBarAction&&easyDataLayer.videoData.removeEventListenerProgressBarAction(),easyDataLayer.videoData.preloadStarted=!1,easyDataLayer.videoData.removeEventListenerProgressBarAction=((e,t,a)=>(e.addEventListener(t,a),function(){e.removeEventListener(t,a)}))(n,"timeupdate",(()=>{const e=n.currentTime/n.duration*100;a.style.width=`${e}%`,n.currentTime/n.duration>.6&&!easyDataLayer.videoData.preloadStarted&&(r||easyDataLayer.handlePreLoadingPlaybackMedia(),easyDataLayer.videoData.preloadStarted=!0)}))}),"setProgressBarAction")},setProductsToShow:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=window.innerWidth<768,t=document.querySelectorAll("#easy-video-commerce-nh .product-showcase-image");Array.from(t).length>0&&t.forEach((e=>e.remove()));const a=document.querySelector("#easy-video-commerce-nh #featured-product-showcase");a&&a.remove();const o=easyDataLayer.videoData.allVideosAttachedData[easyDataLayer.videoData.videoIndex]?.products,n=document.querySelector("#easy-video-commerce-nh-container").classList.contains("maximized");if(o){const t=o.find((e=>e.isFeatured));if(t){const a=document.querySelector("#easy-video-commerce-nh"),o=document.createElement("button");o.id="featured-product-showcase",o.onclick=()=>{if(easyDataLayer.config.productId!==t.id)window.open(t.link,"_self");else{const e=window.innerWidth<768;easyDataLayer.handleMinimize(e)}},o.style.position="absolute",o.style.bottom=e?"3vh":"2vh",o.style.left="14px",o.style.width=e?"80vw":"50vh",o.style.height=e?"20vw":"80px",o.style.boxShadow="4px 4px 8px rgba(0, 0, 0, 0.2)",o.style.display=n?"flex":"none",o.style.borderRadius="8px";const r=document.createElement("img");r.src=t?.imageSrc,r.style.width=e?"20vw":"80px",r.style.height=e?"20vw":"80px",r.style.objectFit="cover",r.style.borderTopLeftRadius="8px",r.style.borderBottomLeftRadius="8px",r.style.backgroundColor="#fff",o.appendChild(r);const s=document.createElement("div");s.style.display="flex",s.style.flexDirection="column",s.style.justifyContent="center",s.style.backgroundColor="rgba(108, 117, 125, 0.5)",s.style.width=e?"calc(100% - 20vw)":"calc(100% - 80px)",s.style.height="100%",s.style.paddingLeft="16px",s.style.paddingRight="16px",s.style.borderTopRightRadius="8px",s.style.borderBottomRightRadius="8px",o.appendChild(s),r.onerror=function(){r.remove(),s.style.width="100%"};const i=document.createElement("h2");i.textContent=t.name,i.style.color="white",i.style.fontSize=e?"4vw":"16px",i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.style.fontWeight="bold",i.style.textAlign="left",s.appendChild(i);const c=document.createElement("p");c.textContent=t.price,c.style.color="white",c.style.fontSize=e?"4vw":"16px",c.style.whiteSpace="nowrap",c.style.overflow="hidden",c.style.textOverflow="ellipsis",c.style.textAlign="left",s.appendChild(c),a.appendChild(o)}let a=0;o.forEach((o=>{if(o.isFeatured)return;const r=document.querySelector("#easy-video-commerce-nh"),s=document.createElement("button");s.classList.add("product-showcase-image"),s.classList.add(`image-${a+1}`),s.onclick=()=>{if(easyDataLayer.config.productId!==o.id)window.open(o.link,"_self");else{const e=window.innerWidth<768;easyDataLayer.handleMinimize(e)}},s.style.display=n?"flex":"none",s.style.width=e?"20vw":"80px",s.style.height=e?"20vw":"80px",s.style.position="absolute",s.style.left="14px",s.style.bottom=e?`calc(${20*a}vw + ${8*a}px + ${t?"3vh + 20vw + 8px":"3vh"})`:`calc(${80*a}px + ${8*a}px + ${t?"2vh + 80px + 8px":"2vh"})`,s.style.transition="";const i=document.createElement("img");i.src=o.imageSrc,i.alt=o.name,i.style.width=e?"20vw":"80px",i.style.height=e?"20vw":"80px",i.style.objectFit="cover",i.style.borderRadius="8px",i.style.backgroundColor="#fff",i.onerror=function(){s.remove()},s.appendChild(i),r.appendChild(s),a++}))}}),"setProductsToShow")},setResponsiveStyle:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=window.innerWidth<768,t=window.innerHeight<700,a=document.querySelector("#easy-video-commerce-nh .controls .control-center .control-center-icon-container"),o=e?"4vh":"0";if(a?.style?.marginBottom!==o){document.querySelector("#easy-video-commerce-nh .extra-control").style.bottom="calc(5vh + 14px)";const o=document.querySelector("#easy-video-commerce-nh .controls .control-left svg"),n=document.querySelector("#easy-video-commerce-nh .controls .control-right svg");t?(o.style.marginBottom=e?"10vh":"0",a.style.marginBottom=e?"10vh":"0",n.style.marginBottom=e?"10vh":"0"):(o.style.marginBottom=e?"5vh":"0",a.style.marginBottom=e?"5vh":"0",n.style.marginBottom=e?"5vh":"0")}}),"setResponsiveStyle")},handlePreLoadingPlaybackMedia:function(e){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.videoData.handlePreLoadingTimeInstance&&clearTimeout(easyDataLayer.videoData.handlePreLoadingTimeInstance),easyDataLayer.videoData.handlePreLoadingTimeInstance=setTimeout((()=>{const t=e||easyDataLayer.videoData.videoIndex+1;if(t>=easyDataLayer.videoData.allSources.length)return;const a=document.querySelectorAll("#easy-video-commerce-nh video"),o=document.querySelector("#easy-video-commerce-nh .easy-source-container");for(let e=0;e<=t;e++){let n=a[e];n||(n=document.createElement("video"),n.style.width="100%",n.style.height="100%",n.style.objectFit="cover",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.display="none",n.muted=!0,n.disablePictureInPicture=!0,n.playsInline=!0,n.autoplay=!0,o.appendChild(n)),e===t&&(n.src=easyDataLayer.videoData.allSources[t],n.load())}}),300)}),"handlePreLoadingPlaybackMedia")},handlePlayPauseMedia:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=document.querySelectorAll("#easy-video-commerce-nh video")[easyDataLayer.videoData.videoIndex],t=document.querySelector("#easy-video-commerce-nh .header-controls .btn-pause"),a=document.querySelector("#easy-video-commerce-nh .header-controls .btn-play");e?.paused?(e.play(),t&&(t.style.display="flex"),a&&(a.style.display="none")):(e.pause(),t&&(t.style.display="none"),a&&(a.style.display="flex"))}),"handlePlayPauseMedia")},restartCurrentMedia:function(){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.videoData.restartCurrentMediaTimeInstance&&clearTimeout(easyDataLayer.videoData.restartCurrentMediaTimeInstance),easyDataLayer.videoData.restartCurrentMediaTimeInstance=setTimeout((()=>{const e=document.querySelectorAll("#easy-video-commerce-nh video")[easyDataLayer.videoData.videoIndex];e.currentTime=0,e.play();const t=document.querySelector("#easy-video-commerce-nh .header-controls .btn-pause"),a=document.querySelector("#easy-video-commerce-nh .header-controls .btn-play");t&&(t.style.display="flex"),a&&(a.style.display="none")}),300)}),"restartCurrentMedia")},handleEndedMedia:function(e){easyDataLayer.utils.executeWithLogging((()=>{easyDataLayer.videoData.handleEndedMediaTimeInstance&&clearTimeout(easyDataLayer.videoData.handleEndedMediaTimeInstance),easyDataLayer.videoData.handleEndedMediaTimeInstance=setTimeout((()=>{const t=e||easyDataLayer.videoData.videoIndex+1;if(t>=easyDataLayer.videoData.allSources.length)return void easyDataLayer.restartCurrentMedia();const a=document.querySelectorAll("#easy-video-commerce-nh video"),o=a?.[t],n=a[easyDataLayer.videoData.videoIndex],r=easyDataLayer.checkCurrentVideoMuted();o&&"flex"!==o?.style?.display&&(easyDataLayer.videoData.videoIndex=t,o.style.display="flex",easyDataLayer.resetVideo(n),o.currentTime=0,easyDataLayer.setProductsToShow(),setTimeout((()=>{easyDataLayer.setLoadingVideo(!1),o.play(),r||easyDataLayer.handleControlMuteAndUnmute(!1)}),150),easyDataLayer.videoData.eventListenerAdded[easyDataLayer.videoData.videoIndex]?easyDataLayer.setProgressBarAction(!0):easyDataLayer.setVideoEventListeners())}),300)}),"handleEndedMedia")},setVideoSide:function(e){easyDataLayer.utils.executeWithLogging((()=>{const t=document.querySelector("#easy-video-commerce-nh-container"),a=document.querySelector("#easy-video-commerce-nh span.hello-message");function o(e){e.style.top="unset",e.style.bottom="unset",e.style.left="unset",e.style.right="unset"}const n=window.innerWidth<768?"8px":"14px",r={"left-top":{elem:{left:n,top:"5%"},span:{top:"60px",left:"100px"}},"left-middle-top":{elem:{left:n,top:"20%"},span:{top:"2px",left:"90px"}},"left-middle":{elem:{left:n,top:"calc(50% - 60px)"},span:{top:"2px",left:"90px"}},"left-middle-bottom":{elem:{left:n,bottom:"20%"},span:{top:"2px",left:"90px"}},"left-bottom":{elem:{left:n,bottom:"5%"},span:{top:"2px",left:"90px"}},"right-top":{elem:{right:n,top:"5%"},span:{top:"60px",right:"100px"}},"right-middle-top":{elem:{right:n,top:"20%"},span:{top:"2px",right:"90px"}},"right-middle":{elem:{right:n,top:"calc(50% - 60px)"},span:{top:"2px",right:"90px"}},"right-middle-bottom":{elem:{right:n,bottom:"20%"},span:{top:"2px",right:"90px"}},"right-bottom":{elem:{right:n,bottom:"5%"},span:{top:"2px",right:"90px"}}};if(t&&a&&(e||easyDataLayer.videoData.position)){const n=e||easyDataLayer.videoData.position;easyDataLayer.videoData.position=n,r?.[n]&&(o(t),o(a),Object.assign(t.style,r[n].elem),Object.assign(a.style,r[n].span))}}),"setVideoSide")},setHelloMessage:function(e){easyDataLayer.utils.executeWithLogging((()=>{const t=e=>{e&&clearTimeout(e)};e&&!easyDataLayer.videoData.helloMessage&&(easyDataLayer.videoData.helloMessage=e);const a=document.querySelector("#easy-video-commerce-nh span.hello-message");t(easyDataLayer.videoData.helloMessageTimeInstance),a&&easyDataLayer.videoData.helloMessage&&(a.innerHTML=easyDataLayer.videoData.helloMessage,a.style.display="flex",easyDataLayer.videoData.helloMessageTimeInstance=setTimeout((()=>{a&&(a.style.opacity=1,t(easyDataLayer.videoData.helloMessageTimeInstance),easyDataLayer.videoData.helloMessageTimeInstance=setTimeout((()=>{a&&(a.style.opacity=0,t(easyDataLayer.videoData.helloMessageTimeInstance),easyDataLayer.videoData.helloMessageTimeInstance=setTimeout((()=>{a.style.display="none"}),500))}),5e3))}),300))}),"setHelloMessage")},setCustomColor:function(e){easyDataLayer.utils.executeWithLogging((()=>{const t=document.querySelector("#easy-video-commerce-nh-container"),a=document.querySelector("#easy-video-commerce-nh span.hello-message");if(t&&a){t.style.borderColor=e,a.style.backgroundColor=e;const o=e=>{let t,a,o;if("#"===e.charAt(0)){const n=e.substring(1,7);t=parseInt(n.substring(0,2),16),a=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16)}else{const n=e.match(/\d+/g);t=parseInt(n[0]),a=parseInt(n[1]),o=parseInt(n[2])}return{r:t,g:a,b:o}},{r:n,g:r,b:s}=o(e),i=(299*n+587*r+114*s)/1e3>128?"black":"white";a.style.color=i,a.style.borderColor=i}}),"setCustomColor")},enableDraggable:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js",e.onload=function(){const e=document.querySelector(".easy-video-commerce-nh-container");if(e){const t=new Hammer(e);t.add(new Hammer.Pan({direction:Hammer.DIRECTION_ALL,threshold:4})),t.on("pan",(function(t){if(8===t.direction||16===t.direction){if(e.classList.contains("maximized"))return;easyDataLayer.dnd.isDragging||(easyDataLayer.dnd.isDragging=!0,e.classList.add("dragging"),easyDataLayer.dnd.draggingTimeInstance&&clearTimeout(easyDataLayer.dnd.draggingTimeInstance));const a=e.offsetHeight;easyDataLayer.dnd.posY=t.center.y-a/2,easyDataLayer.dnd.posY<0&&(easyDataLayer.dnd.posY=0),easyDataLayer.dnd.posY+a>window.innerHeight&&(easyDataLayer.dnd.posY=window.innerHeight-a),e.style.top=easyDataLayer.dnd.posY+"px"}t.isFinal&&(easyDataLayer.dnd.isDragging=!1,easyDataLayer.dnd.draggingTimeInstance=setTimeout((()=>{e.classList.remove("dragging")}),400))}))}},document.body.appendChild(e)}),"enableDraggable")},utils:{executeWithLogging:function(e,t){try{return e()}catch(e){console.error(`[NuvemHub] Easy Video Commerce: ${t}`,e)}},isValidValue:function(e){return null!=e&&""!==e&&"null"!==e},isEmpty:function(e){return!e||Array.isArray(e)&&0===e?.length},waitForElements:function(e){return new Promise((t=>{const a=setInterval((()=>{const o=document.querySelectorAll(e);o?.length>0&&(clearInterval(a),t(o))}),100)}))}},checkLanguage:function(){easyDataLayer.utils.executeWithLogging((()=>{const e=navigator?.language||navigator?.userLanguage,t=["es","pt","en"];easyDataLayer.config.lang=function(){const a=navigator.languages||[e];for(const e of a){const a=e.slice(0,2);if(t.includes(a))return a}return"en"}()}),"checkLanguage")},main:async function(){easyDataLayer.utils.executeWithLogging((async()=>{if(document.querySelector("#easy-video-commerce-nh"))return;if(console.log("[NuvemHub] Easy Video Commerce: starting..."),easyDataLayer.setEnvironment(),easyDataLayer.setStoreId(),easyDataLayer.checkLanguage(),!easyDataLayer.utils.isValidValue(easyDataLayer.config?.storeId))return;const e="/"===window.location.pathname;let t=null,a=null,o=null,n=null;if(window?.LS)if(window?.LS?.category?.id)t=window.LS.category.id;else if(window?.LS?.product?.id)a=window.LS.product.id;else if(window.location.pathname?.match("/")){const e=window.location.pathname.split("/").filter((e=>""!==e));e.length>0&&(n=e)}if(window?.Shopify)if(window.location.pathname?.match("/collections")){const e=window.location.pathname.split("/").filter((e=>""!==e&&"collections"!==e));e.length>0&&(n=e[0])}else if(window.location.pathname?.match("/products")){const e=window.location.pathname.split("/").filter((e=>""!==e&&"products"!==e));e.length>0&&(o=e[0])}else if(window.location.pathname?.match("/")){const e=window.location.pathname.split("/").filter((e=>""!==e));e.length>0&&(n=e)}if(a&&(easyDataLayer.config.productId=a),!(e||t||a||o||n))return;const r=await easyDataLayer.getEasyCampaigns(e,t,a,o,n);if(!r?._id)return;easyDataLayer.analytics.campaignId=r._id,r?.tests?.[0]&&(easyDataLayer.analytics.testId=r.tests[0]),r?.store?.app&&(easyDataLayer.store=r.store,easyDataLayer.store.app=r.store.app),easyDataLayer.setHTML(),easyDataLayer.observeUrlChange(),await easyDataLayer.utils.waitForElements("#easy-video-commerce-nh video, #easy-video-commerce-nh span.hello-message");const s=r?.videos;easyDataLayer.utils.isEmpty(s)||(easyDataLayer.setSource(s),easyDataLayer.setVideoSide(r?.position),easyDataLayer.setHelloMessage(r?.helloMessage),r?.store?.app?.personalization?.color&&easyDataLayer.setCustomColor(r.store.app.personalization.color),r?.store?.whatsappNumber&&(easyDataLayer.config.wppNumber=r.store.whatsappNumber,easyDataLayer.setWppEvent()),easyDataLayer.enableDraggable())}),"main")}};window.easyDataLayer=easyDataLayer,easyDataLayer.main();